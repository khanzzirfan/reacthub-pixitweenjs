import{j as c}from"./jsx-runtime-4ca860c5.js";import{r as n}from"./index-61bf1805.js";import{G as m,g as l,m as o}from"./PixiStage-ce27c430.js";const d=r=>{const{startAt:e,endAt:i,uniqueId:u}=r,a=n.useRef(null),f=n.useRef(null),x=n.useRef(null),t=n.useRef(null),{tl:s,totalDuration:h=0}=n.useContext(m);return n.useEffect(()=>{const q=l.context(()=>{if(a.current&&s.current){t.current&&(t.current.kill(),s.current.remove(t.current));const _=e<.2?1:0;t.current=l.timeline().set(a.current,{alpha:_}).to(a.current,{pixi:{alpha:1,eventMode:"static"},duration:Number(i)-Number(e)}).set(a.current,{alpha:0,eventMode:"none"}),s.current.add([t.current],e)}});return()=>{t.current&&(s.current.remove(t.current),t.current.progress(0).kill()),q.revert()}},[e,i,h,u]),c.jsx(o.Container,{ref:a,alpha:e<.2?1:0,eventMode:e<.2?"static":"none",children:c.jsx(o.Container,{ref:x,children:c.jsx(o.Container,{ref:f,alpha:1,children:r.children})})})};try{d.displayName="PixiSequence",d.__docgenInfo={description:"",displayName:"PixiSequence",props:{startAt:{defaultValue:null,description:"start time of the sequence in seconds",name:"startAt",required:!0,type:{name:"number"}},endAt:{defaultValue:null,description:"end time of the sequence in seconds",name:"endAt",required:!0,type:{name:"number"}},uniqueId:{defaultValue:null,description:"unique id",name:"uniqueId",required:!1,type:{name:"string"}}}}}catch{}const p=r=>{const{startAt:e,endAt:i}=r,{setTotalDuration:u}=n.useContext(m);return n.useEffect(()=>{u&&u(Number(i)+.2)},[e,i]),r.children};try{p.displayName="PixiSequenceWrapper",p.__docgenInfo={description:"",displayName:"PixiSequenceWrapper",props:{startAt:{defaultValue:null,description:"start time of the total sequence in seconds",name:"startAt",required:!0,type:{name:"number"}},endAt:{defaultValue:null,description:"end time of the last sequence in seconds. It is end of global timeline seconds",name:"endAt",required:!0,type:{name:"number"}}}}}catch{}export{p as P,d as a};
//# sourceMappingURL=PixiSeqenceWrapper-a5cc775b.js.map
