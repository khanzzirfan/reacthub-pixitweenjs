import{j as a}from"./jsx-runtime-4ca860c5.js";import{r as e}from"./index-61bf1805.js";import{T as Y,m as c}from"./PixiStage-ce27c430.js";import{w as Z,a as $}from"./withFiltersHook-489645a6.js";const A=e.forwardRef((i,E)=>{const W=e.useRef(null),b=e.useRef(0),_=e.useRef(null),j=e.useRef(null),N=e.useRef(16),P=e.useRef(null),{visible:y,text:I,disabled:h,transformation:l,pointerdown:x,onDobuleClick:t}=i,{x:B,y:z,fontFamily:S="Arial",fontWeight:g="normal",fontStyle:o="normal",fontSize:r=16,fontVariant:M="normal",fill:w="black",stroke:u,strokeThickness:d=0,blurRadius:q=0,blurEnabled:V=!1,dropShadowColor:n=null,dropShadow:v=!1,dropShadowBlur:T=0,wordWrapWidth:k=5e7,leading:D=0,letterSpacing:R,colorCorrection:C={}}=l,{temperatureFilter:O,sharpnessFilter:U,hueFilter:G,blurFilter:H,adjustmentFilter:L}=Z(C),{blurRadius:J=0}=C;e.useEffect(()=>{N.current=Number(r)},[r]);const s=["italic","oblique"].includes(o)?o:void 0,p=["small-caps"].includes(M),m=["bold","bolder","lighter","100","200","300"].includes(g)?g:void 0,f=Number(R)>0?R:void 0,K=e.useMemo(()=>new Y({fontFamily:S,fontSize:r,fill:w||"white",...u&&d>0&&{stroke:u,strokeThickness:d},...s&&{fontStyle:s},...p&&{fontVariant:p},...m&&{fontWeight:m},...f&&{letterSpacing:f},...V&&{dropShadow:!0,dropShadowBlur:Number(q),dropShadowColor:(n==null?void 0:n.toString())||"black",dropShadowAngle:.5235987755982988,dropShadowDistance:5},...v&&{dropShadow:!0,dropShadowBlur:Number(T),dropShadowColor:(n==null?void 0:n.toString())||"black",dropShadowAngle:.5235987755982988,dropShadowDistance:5},wordWrap:!0,breakWords:!0,wordWrapWidth:k||500,leading:D||0}),[V,q,w,S,r,o,D,s,m,p,f,n,u,d,k,v,T]);e.useEffect(()=>{P.current={...l}},[l]);const Q=()=>{const F=new Date().getTime();F-b.current<300&&t?t():x&&x(),b.current=F},X=()=>{!h&&t&&t()};return a.jsx($,{...i,ref:E,isText:!0,onDoubleClick:X,children:a.jsx(c.Container,{ref:W,children:a.jsx(c.Container,{alpha:1,ref:j,children:a.jsx(c.Text,{style:K,x:B,y:z,anchor:.5,text:I,alpha:y?1:0,...y&&!h&&{interactive:!0,buttonMode:!0,pointerdown:Q},ref:_,filters:[O,U,G,L,...J>0?[H]:[]]})})})})});try{A.displayName="PixiTextSprite",A.__docgenInfo={description:"",displayName:"PixiTextSprite",props:{text:{defaultValue:null,description:"",name:"text",required:!0,type:{name:"string"}},startAt:{defaultValue:null,description:"",name:"startAt",required:!0,type:{name:"number"}},endAt:{defaultValue:null,description:"",name:"endAt",required:!0,type:{name:"number"}},disabled:{defaultValue:null,description:"",name:"disabled",required:!1,type:{name:"boolean"}},transformation:{defaultValue:null,description:"",name:"transformation",required:!0,type:{name:"{ x: number; y: number; width: number; height: number; anchor: number; rotation?: number | undefined; alpha?: number | undefined; scale?: number | [number, number] | undefined; tint?: number | undefined; ... 31 more ...; effect?: Effects | undefined; }"}},pointerdown:{defaultValue:null,description:"",name:"pointerdown",required:!1,type:{name:"(() => void)"}},pointerup:{defaultValue:null,description:"",name:"pointerup",required:!1,type:{name:"(() => void)"}},mousedown:{defaultValue:null,description:"",name:"mousedown",required:!1,type:{name:"(() => void)"}},mouseup:{defaultValue:null,description:"",name:"mouseup",required:!1,type:{name:"(() => void)"}},pointerover:{defaultValue:null,description:"",name:"pointerover",required:!1,type:{name:"(() => void)"}},mouseover:{defaultValue:null,description:"",name:"mouseover",required:!1,type:{name:"(() => void)"}},mouseout:{defaultValue:null,description:"",name:"mouseout",required:!1,type:{name:"(() => void)"}},applyTransformer:{defaultValue:null,description:"",name:"applyTransformer",required:!1,type:{name:"boolean"}},onTextUpdate:{defaultValue:null,description:"",name:"onTextUpdate",required:!1,type:{name:"((data: any) => void)"}},onAnchorTransformationEnd:{defaultValue:null,description:"",name:"onAnchorTransformationEnd",required:!1,type:{name:"((endData: any) => void)"}},onDobuleClick:{defaultValue:null,description:"",name:"onDobuleClick",required:!1,type:{name:"(() => void)"}},uniqueId:{defaultValue:null,description:"",name:"uniqueId",required:!0,type:{name:"string"}},src:{defaultValue:null,description:"",name:"src",required:!1,type:{name:"string"}},path:{defaultValue:null,description:"",name:"path",required:!1,type:{name:"string"}},visible:{defaultValue:null,description:"",name:"visible",required:!0,type:{name:"boolean"}},isDragging:{defaultValue:null,description:"",name:"isDragging",required:!1,type:{name:"boolean"}},pointerout:{defaultValue:null,description:"",name:"pointerout",required:!1,type:{name:"(() => void)"}},fps:{defaultValue:null,description:"",name:"fps",required:!1,type:{name:"number"}}}}}catch{}export{A as P};
//# sourceMappingURL=PixiTextSprite-d8bce14d.js.map
